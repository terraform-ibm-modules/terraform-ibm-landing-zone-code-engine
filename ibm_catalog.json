{
  "products": [
    {
      "name": "deploy-arch-landing-zone-code-engine",
      "label": "Landing zone for serverless workloads with IBM Code Engine",
      "product_kind": "solution",
      "tags": [
        "ibm_created",
        "target_terraform",
        "terraform",
        "solution",
        "containers",
        "platform_engineering"
      ],
      "keywords": [
        "code engine",
        "IaC",
        "infrastructure as code",
        "terraform",
        "solution",
        "fleets",
        "serverless",
        "workloads"
      ],
      "short_description": "Provision scalable, serverless workloads with integrated IBM Cloud services.",
      "long_description": "This solution enables the provisioning of [IBM Code Engine](https://www.ibm.com/products/code-engine) projects on IBM Cloud using a range of configurations tailored to various workloads — from lightweight experimentation to high-performance batch processing. Each variation offers a distinct balance of automation, integration with IBM Cloud services, and readiness for experimentation or production use.\n\nIt automates the setup of both Code Engine and the supporting IBM Cloud infrastructure to streamline end-to-end deployment. Whether you're exploring serverless computing or building cloud-native applications, this landing zone helps accelerate your journey.",
      "offering_docs_url": "https://github.com/terraform-ibm-modules/terraform-ibm-landing-zone-code-engine/blob/main/solutions/fleets-quickstart/README.md",
      "offering_icon_url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-code-engine/main/images/code-engine.svg",
      "provider_name": "IBM",
      "features": [
        {
          "title": "Flexible deployment variations",
          "description": "Supports a growing set of configurations tailored to specific workload types—from compute-intensive tasks to future support for event-driven jobs and transactional applications."
        },
        {
          "title": "End-to-end automation",
          "description": "Provisions both IBM Code Engine components (applications, builds, secrets, access policies) and supporting IBM Cloud infrastructure for a complete deployment experience."
        },
        {
          "title": "IBM Cloud service integrations",
          "description": "Seamless integration with [Container Registry](https://www.ibm.com/products/container-registry), Activity Tracker, [Cloud Logs](https://www.ibm.com/products/cloud-logs) and [Cloud Monitoring](https://www.ibm.com/products/cloud-monitoring)."
        },
        {
          "title": "Simplified setup with guided inputs",
          "description": "Preconfigured defaults and guided parameter selection (e.g., region, availability zones, service plans) reduce manual setup and accelerate deployment."
        }
      ],
      "support_details": "This product is in the community registry, as such support is handled through the originated repo. If you experience issues please open an issue in that repository [https://github.com/terraform-ibm-modules/terraform-ibm-code-engine/issues](https://github.com/terraform-ibm-modules/terraform-ibm-code-engine/issues). Please note this product is not supported via the IBM Cloud Support Center.",
      "flavors": [
        {
          "label": "Quickstart - Fleets edition",
          "name": "quickstart-fleets",
          "index": 1,
          "install_type": "fullstack",
          "working_directory": "solutions/fleets-quickstart",
          "iam_permissions": [
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Viewer"
              ],
              "service_name": "Resource group only",
              "notes": "Viewer access is required in the resource group you want to provision in."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Writer",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "codeengine",
              "notes": "Required to create and manage Code Engine resources."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Writer",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "container-registry",
              "notes": "Required to create and manage Container Registry namespaces."
            },
            {
              "service_name": "is.vpc",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "notes": "Required to create Virtual Private Cloud (VPC)."
            },
            {
              "service_name": "sysdig-monitor",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "notes": "[Optional] Required to create an instance of Cloud Monitoring."
            },
            {
              "service_name": "logs",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "notes": "[Optional] Required to create an instance of Cloud Logs."
            }
          ],
          "architecture": {
            "features": [
              {
                "title": " ",
                "description": "Ideal for users running distributed container-based tasks with minimal setup, such as Monte Carlo simulations, PDF conversion with Doclin, or batch processing with VPC and COS integration."
              },
              {
                "title": " ",
                "description": "Automates deployment of a scalable Code Engine Fleet with integrated IBM Cloud services. Guided inputs for region, zones, and service plans—plus preconfigured defaults—enable a ready-to-run environment for execution, storage, and observability, without manual networking or service setup."
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "Fleet-Based Workload Topology with IBM Cloud Code Engine",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-landing-zone-code-engine/refs/heads/main/reference-architectures/deployment-architecture-fleets.svg",
                  "type": "image/svg+xml"
                },
                "description": "This architecture provides a streamlined setup within an IBM Cloud region to deploy and manage <b>fleet-based workloads using IBM Cloud Code Engine</b>. It introduces a Fleet managed by Code Engine as the core execution environment, with <b>worker instances (VSIs)</b> dynamically provisioned in Code Engine–managed accounts based on a customer-provided VSI image.<br><br><b>A Task State Store</b>, implemented using IBM Cloud Object Storage (COS), <b>handles task and data persistence</b>. Logs generated by the fleet workers are ingested into an IBM Cloud Logs instance, enabling centralized observability and simplified monitoring.<br><br>Designed for scalability and operational efficiency, this Quick Start automates the provisioning of required IBM Cloud services using well-chosen defaults. Users provide minimal input—such as region, availability zones, and service plans—while Code Engine handles the lifecycle of Fleets, Tasks, and Workers.<br><br>This solution accelerates deployment of distributed, container-based workloads without requiring manual setup of networking, storage, or observability components, making it ideal for rapid experimentation and workload execution on IBM Cloud."
              }
            ]
          },
          "configuration": [
            {
              "key": "ibmcloud_api_key"
            },
            {
              "key": "prefix",
              "required": true,
              "value_constraints": [
                {
                  "type": "regex",
                  "description": "Prefix must begin with a lowercase letter and may contain only lowercase letters, digits, and hyphens '-'. It must not end with a hyphen ('-'), and cannot contain consecutive hyphens ('--'). It should not exceed 16 characters.",
                  "value": "^$|^__NULL__$|^[a-z](?!.*--)(?:[a-z0-9-]{0,14}[a-z0-9])?$"
                }
              ]
            },
            {
              "key": "existing_resource_group_name",
              "display_name": "resource_group",
              "default_value": "Default",
              "description": "The name of an existing resource group to provision the resources.",
              "custom_config": {
                "type": "resource_group",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "identifier": "rg_name"
                }
              }
            },
            {
              "key": "code_engine_project_name",
              "required": true
            },
            {
              "key": "vpc_zones",
              "options": [
                {
                  "displayname": "1",
                  "value": 1
                },
                {
                  "displayname": "2",
                  "value": 2
                },
                {
                  "displayname": "3",
                  "value": 3
                }
              ]
            },
            {
              "key": "provider_visibility",
              "hidden": true,
              "options": [
                {
                  "displayname": "private",
                  "value": "private"
                },
                {
                  "displayname": "public",
                  "value": "public"
                },
                {
                  "displayname": "public-and-private",
                  "value": "public-and-private"
                }
              ]
            },
            {
              "key": "region",
              "required": true,
              "custom_config": {
                "config_constraints": {
                  "generationType": "2"
                },
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "vpc_region"
              }
            },
            {
              "key": "cos_plan",
              "options": [
                {
                  "displayname": "Standard",
                  "value": "standard"
                },
                {
                  "displayname": "One Rate",
                  "value": "cos-one-rate-plan"
                }
              ]
            },
            {
              "key": "cloud_monitoring_plan",
              "options": [
                {
                  "displayname": "None",
                  "value": "none"
                },
                {
                  "displayname": "Graduated tier",
                  "value": "graduated-tier"
                },
                {
                  "displayname": "Lite",
                  "value": "lite"
                }
              ]
            },
            {
              "key": "enable_platform_metrics"
            },
            {
              "key": "enable_cloud_logs"
            },
            {
              "key": "resource_tags",
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            }
          ],
          "dependency_version_2": true,
          "terraform_version": "1.10.5"
        }
      ]
    }
  ]
}
