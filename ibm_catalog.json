{
  "products": [
    {
      "name": "deploy-arch-landing-zone-code-engine",
      "label": "Landing zone for serverless workloads with IBM Code Engine",
      "product_kind": "solution",
      "tags": [
        "ibm_created",
        "target_terraform",
        "terraform",
        "solution",
        "support_ibm",
        "integration",
        "platform_engineering"
      ],
      "keywords": [
        "code engine",
        "IaC",
        "infrastructure as code",
        "terraform",
        "solution"
      ],
      "short_description": "Provision scalable, serverless workloads with integrated IBM Cloud services.",
      "long_description": "This solution enables the provisioning of [IBM Code Engine](https://www.ibm.com/products/code-engine) projects on IBM Cloud using a range of configurations—from compute-intensive workloads to future support for broader serverless patterns. Each variation offers a distinct balance of automation, integration with IBM Cloud services, and readiness for experimentation or production use. \n\nThe current variation supports high-performance tasks like Monte Carlo simulations, PDF conversion with Doclin, and batch processing using VPC and COS. \n\nIt automates both Code Engine setup and the supporting IBM Cloud infrastructure for full end-to-end deployment. Whether you're running intensive jobs or exploring other serverless architectures, this landing zone helps accelerate your cloud-native journey.",
      "offering_docs_url": "https://github.com/terraform-ibm-modules/terraform-ibm-code-engine/blob/refactor_da/solutions/app-from-binary/README.md",
      "offering_icon_url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-code-engine/main/images/code-engine.svg",
      "provider_name": "IBM",
      "features": [
        {
          "title": "Flexible Deployment Variations",
          "description": "Supports a growing set of configurations tailored to specific workload types—from compute-intensive tasks to future support for event-driven jobs and transactional applications."
        },
        {
          "title": "End-to-End Automation",
          "description": "Provisions both IBM Code Engine components (applications, builds, secrets, access policies) and supporting IBM Cloud infrastructure for a complete deployment experience."
        },
        {
          "title": "IBM Cloud Service Integrations",
          "description": "Seamless integration with Secrets Manager, Container Registry, Activity Tracker, IBM Cloud Logs, and IBM Cloud Monitoring."
        },
        {
          "title": "Simplified Setup with Guided Inputs",
          "description": "Preconfigured defaults and guided parameter selection (e.g., region, availability zones, service plans) reduce manual setup and accelerate deployment."
        }
      ],
      "support_details": "This product is in the community registry, as such support is handled through the originated repo. If you experience issues please open an issue in that repository [https://github.com/terraform-ibm-modules/terraform-ibm-code-engine/issues](https://github.com/terraform-ibm-modules/terraform-ibm-code-engine/issues). Please note this product is not supported via the IBM Cloud Support Center.",
      "flavors": [
        {
          "label": "Quickstart",
          "name": "quickstart",
          "index": 1,
          "install_type": "fullstack",
          "working_directory": "solutions/quickstart",
          "iam_permissions": [
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Viewer"
              ],
              "service_name": "Resource group only",
              "notes": "Viewer access is required in the resource group you want to provision in."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Writer"
              ],
              "service_name": "codeengine"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "codeengine"
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Writer",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "container-registry"
            },
            {
              "service_name": "is",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "notes": "Required for creating Virtual Server Instance and Virtual Private Cloud(VPC)."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "iam-identity",
              "notes": "[Optional] Required if Cloud automation for account configuration is enabled."
            },
            {
              "service_name": "sysdig-monitor",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "notes": "[Optional] Required if you are consuming Observability deployable architecture which sets up Cloud monitoring."
            },
            {
              "service_name": "logs",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "notes": "[Optional] Required if you are consuming Observability deployable architecture which sets up Cloud logs."
            }
          ],
          "architecture": {
            "features": [
              {
                "title": " ",
                "description": "Ideal for users with existing container images who want to quickly deploy applications without rebuilding."
              },
              {
                "title": " ",
                "description": "Enables fast, simple deployment by using pre-built images to speed up rollout."
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "IBM Cloud Code Engine Application Topology",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-code-engine/refs/heads/refactor_da/reference-architecture/deployment-architecture-fleets.svg",
                  "type": "image/svg+xml"
                },
                "description": "This architecture deploys fleets."
              }
            ]
          },
          "configuration": [
            {
              "key": "ibmcloud_api_key"
            },
            {
              "key": "prefix",
              "required": true
            },
            {
              "key": "existing_resource_group_name",
              "required": true,
              "display_name": "resource_group",
              "custom_config": {
                "type": "resource_group",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "identifier": "rg_name"
                }
              }
            },
            {
              "key": "code_engine_project_name",
              "required": true
            },
            {
              "key": "region",
              "options": [
                {
                  "displayname": "Dallas (us-south)",
                  "value": "us-south"
                },
                {
                  "displayname": "Frankfurt (eu-de)",
                  "value": "eu-de"
                },
                {
                  "displayname": "London (eu-gb)",
                  "value": "eu-gb"
                },
                {
                  "displayname": "Osaka (jp-osa)",
                  "value": "jp-osa"
                },
                {
                  "displayname": "Sao Paulo (br-sao)",
                  "value": "br-sao"
                },
                {
                  "displayname": "Spain (us-es)",
                  "value": "us-es"
                },
                {
                  "displayname": "Sydney (au-syd)",
                  "value": "au-syd"
                },
                {
                  "displayname": "Tokyo (jp-tok)",
                  "value": "jp-tok"
                },
                {
                  "displayname": "Toronto (ca-tor)",
                  "value": "ca-tor"
                },
                {
                  "displayname": "Washington DC (us-east)",
                  "value": "us-east"
                }
              ]
            },
            {
              "key": "provider_visibility",
              "hidden": true,
              "options": [
                {
                  "displayname": "private",
                  "value": "private"
                },
                {
                  "displayname": "public",
                  "value": "public"
                },
                {
                  "displayname": "public-and-private",
                  "value": "public-and-private"
                }
              ]
            },
            {
              "key": "existing_cos_instance_crn",
              "virtual": true
            },
           {
              "key": "logs_routing_tenant_regions",
              "type": "array",
              "default_value": [],
              "description": "To manage platform logs that are generated by IBM Cloud services in a region of IBM Cloud, you must create a tenant in each region that you operate. Pass a list of regions to create a tenant in. [Learn more](https://cloud.ibm.com/docs/logs-router?topic=logs-router-about-platform-logs).",
              "required": true,
              "virtual": true,
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "enable_platform_metrics",
              "type": "boolean",
              "default_value": false,
              "description": "When set to `true`, the IBM Cloud Monitoring instance will be configured to collect platform metrics from the provided region. You can configure 1 instance only of the IBM Cloud Monitoring service per region to collect platform metrics in that location. Check with the account or service administrator if another monitoring instance has already been configured. You may not have permissions to see all monitoring instances in the region. [Learn more](https://cloud.ibm.com/docs/monitoring?topic=monitoring-platform_metrics_enabling).",
              "required": true,
              "virtual": true,
              "options": [
                {
                  "displayname": "true",
                  "value": "true"
                },
                {
                  "displayname": "false",
                  "value": "false"
                }
              ]
            },
            {
              "key": "existing_kms_instance_crn",
              "virtual": true
            }
          ],
          "dependencies": [
            {
              "name": "deploy-arch-ibm-account-infra-base",
              "description": "Organizes your IBM Cloud account with preconfigured resource groups. If not selected, the default resource group is used. Optionally, it can expand to apply recommended security controls via \"with Account Settings\" variation. ",
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "flavors": [
                "resource-group-only",
                "resource-groups-with-account-settings"
              ],
              "default_flavor": "resource-group-only",
              "id": "63641cec-6093-4b4f-b7b0-98d2f4185cd6-global",
              "input_mapping": [
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_output": "workload_resource_group_name",
                  "version_input": "existing_resource_group_name"
                }
              ],
              "optional": true,
              "on_by_default": false,
              "version": "v3.0.7"
            },
            {
              "name": "deploy-arch-ibm-kms",
              "id": "2cad4789-fa90-4886-9c9e-857081c273ee-global",
              "description": "Enables managed encryption with your own keys via IBM Cloud Key Protect. If disabled, services will default to IBM-managed encryption. ",
              "flavors": [
                "fully-configurable"
              ],
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "input_mapping": [
                {
                  "dependency_output": "kms_instance_crn",
                  "version_input": "existing_kms_instance_crn"
                },
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_input": "region",
                  "version_input": "region",
                  "reference_version": true
                },
                {
                  "dependency_input": "kms_endpoint_type",
                  "value": "private"
                },
                {
                  "version_input": "kms_encryption_enabled_bucket",
                  "value": true
                },
                {
                  "version_input": "enable_vpc_flow_logs",
                  "value": true
                }
              ],
              "optional": true,
              "on_by_default": true,
              "version": "v5.1.19"
            },
            {
              "name": "deploy-arch-ibm-cos",
              "id": "68921490-2778-4930-ac6d-bae7be6cd958-global",
              "description": "Sets up an Object Storage instance.",
              "flavors": [
                "instance"
              ],
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "input_mapping": [
                {
                  "dependency_input": "existing_resource_group_name",
                  "version_input": "existing_resource_group_name",
                  "reference_version": true
                },
                {
                  "dependency_output": "cos_instance_crn",
                  "version_input": "existing_cos_instance_crn"
                },
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "version_input": "enable_vpc_flow_logs",
                  "value": false
                }
              ],
              "optional": true,
              "on_by_default": true,
              "version": "v10.2.1"
            },
            {
              "name": "deploy-arch-ibm-cloud-logs",
              "description": "Configure an IBM Cloud Logs instance to analyse the platform logs.",
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "flavors": [
                "fully-configurable"
              ],
              "id": "63d8ae58-fbf3-41ce-b844-0fb5b85882ab-global",
              "version": "v1.6.11",
              "optional": true,
              "on_by_default": true,
              "input_mapping": [
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_input": "region",
                  "version_input": "region",
                  "reference_version": true
                },
                {
                  "dependency_input": "existing_resource_group_name",
                  "version_input": "existing_resource_group_name",
                  "reference_version": true
                },
                {
                  "dependency_input": "logs_routing_tenant_regions",
                  "version_input": "logs_routing_tenant_regions",
                  "reference_version": true
                }
              ]
            },
            {
              "name": "deploy-arch-ibm-cloud-monitoring",
              "description": "Configure an IBM Cloud Monitoring instance to collect the platform metrics.",
              "id": "73debdbf-894f-4c14-81c7-5ece3a70b67d-global",
              "version": "v1.6.4",
              "flavors": [
                "fully-configurable"
              ],
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "optional": true,
              "on_by_default": true,
              "input_mapping": [
                {
                  "dependency_input": "enable_platform_metrics",
                  "version_input": "enable_platform_metrics",
                  "reference_version": true
                },
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_input": "region",
                  "version_input": "region",
                  "reference_version": true
                },
                {
                  "dependency_input": "existing_cos_instance_crn",
                  "version_input": "existing_cos_instance_crn",
                  "reference_version": true
                },
                {
                  "dependency_input": "existing_kms_instance_crn",
                  "version_input": "existing_kms_instance_crn",
                  "reference_version": true
                }
              ]
            },
            {
              "name": "deploy-arch-ibm-activity-tracker",
              "description": "Configure Activity Tracker Event Routing to route the auditing events.",
              "id": "918453c3-4f97-4583-8c4a-83ef12fc7916-global",
              "version": "v1.2.25",
              "flavors": [
                "fully-configurable"
              ],
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "optional": true,
              "on_by_default": true,
              "input_mapping": [
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_input": "region",
                  "version_input": "region",
                  "reference_version": true
                },
                {
                  "dependency_input": "existing_cos_instance_crn",
                  "version_input": "existing_cos_instance_crn",
                  "reference_version": true
                },
                {
                  "dependency_input": "existing_kms_instance_crn",
                  "version_input": "existing_kms_instance_crn",
                  "reference_version": true
                }
              ]
            },
            {
              "name": "deploy-arch-ibm-scc-workload-protection",
              "description": "Configure an IBM Cloud Security and Compliance Center Workload Protection instance to help you manage security and compliance for your organization.",
              "id": "4322cf44-2289-49aa-a719-dd79e39b14dc-global",
              "version": "v1.11.4",
              "flavors": [
                "fully-configurable"
              ],
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "optional": true,
              "on_by_default": true,
              "input_mapping": [
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_input": "region",
                  "version_input": "region",
                  "reference_version": true
                }
              ]
            }
          ],
          "dependency_version_2": true,
          "terraform_version": "1.10.5"
        },
        {
          "label": "Quickstart - Fleets Edition",
          "name": "quickstart-fleets",
          "index": 2,
          "install_type": "fullstack",
          "working_directory": "solutions/fleets",
          "iam_permissions": [
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Viewer"
              ],
              "service_name": "Resource group only",
              "notes": "Viewer access is required in the resource group you want to provision in."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Writer",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "codeengine",
              "notes": "Required for creating code engine."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Writer",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "container-registry",
              "notes": "Required for creating container registry namespaces."
            },
            {
              "service_name": "is",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "notes": "Required for creating Virtual Server Instance and Virtual Private Cloud(VPC)."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "iam-identity",
              "notes": "[Optional] Required if Cloud automation for account configuration is enabled."
            },
            {
              "service_name": "sysdig-monitor",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "notes": "[Optional] Required if you are enabling Cloud monitoring."
            },
            {
              "service_name": "logs",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "notes": "[Optional] Required if you are enabling Cloud logs."
            }
          ],
          "architecture": {
            "features": [
              {
                "title": " ",
                "description": "Ideal for users running distributed container-based tasks with minimal setup, such as Monte Carlo simulations, PDF conversion with Doclin, or batch processing with VPC and COS integration."
              },
              {
                "title": " ",
                "description": "Automates deployment of a scalable Code Engine Fleet with integrated IBM Cloud services. Guided inputs for region, zones, and service plans—plus preconfigured defaults—enable a ready-to-run environment for execution, storage, and observability, without manual networking or service setup."
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "Fleet-Based Workload Topology with IBM Cloud Code Engine",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-code-engine/refs/heads/refactor_da/reference-architecture/deployment-architecture-fleets.svg",
                  "type": "image/svg+xml"
                },
                "description": "This architecture provides a streamlined setup within an IBM Cloud region to deploy and manage <b>fleet-based workloads using IBM Cloud Code Engine</b>. It introduces a Fleet managed by Code Engine as the core execution environment, with <b>worker instances (VSIs)</b> dynamically provisioned in Code Engine–managed accounts based on a customer-provided VSI image.<br><br><b>A Task State Store</b>, implemented using IBM Cloud Object Storage (COS), <b>handles task and data persistence</b>. Logs generated by the fleet workers are ingested into an IBM Cloud Logs instance, enabling centralized observability and simplified monitoring.<br><br>Designed for scalability and operational efficiency, this Quick Start automates the provisioning of required IBM Cloud services using well-chosen defaults. Users provide minimal input—such as region, availability zones, and service plans—while Code Engine handles the lifecycle of Fleets, Tasks, and Workers.<br><br>This solution accelerates deployment of distributed, container-based workloads without requiring manual setup of networking, storage, or observability components, making it ideal for rapid experimentation and workload execution on IBM Cloud."
              }
            ]
          },
          "configuration": [
            {
              "key": "ibmcloud_api_key"
            },
            {
              "key": "prefix",
              "required": true,
              "value_constraints": [
                {
                  "type": "regex",
                  "description": "Prefix must begin with a lowercase letter and may contain only lowercase letters, digits, and hyphens '-'. It must not end with a hyphen('-'), and cannot contain consecutive hyphens ('--'). It should not exceed 16 characters",
                  "value": "^$|^__NULL__$|^[a-z](?!.*--)(?:[a-z0-9-]{0,14}[a-z0-9])?$"
                }
              ]
            },
            {
              "key": "existing_resource_group_name",
              "required": true,
              "display_name": "resource_group",
              "default_value": "Default",
              "description": "The name of an existing resource group to provision the resources.",
              "custom_config": {
                "type": "resource_group",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "identifier": "rg_name"
                }
              }
            },
            {
              "key": "code_engine_project_name",
              "required": true
            },
            {
              "key": "vpc_zones",
              "options": [
                {
                  "displayname": "1",
                  "value": 1
                },
                {
                  "displayname": "2",
                  "value": 2
                },
                {
                  "displayname": "3",
                  "value": 3
                }
              ]
            },
            {
              "key": "provider_visibility",
              "hidden": true,
              "options": [
                {
                  "displayname": "private",
                  "value": "private"
                },
                {
                  "displayname": "public",
                  "value": "public"
                },
                {
                  "displayname": "public-and-private",
                  "value": "public-and-private"
                }
              ]
            },
            {
              "key": "region",
              "required": true,
              "custom_config": {
                "config_constraints": {
                  "generationType": "2"
                },
                "grouping": "deployment",
                "original_grouping": "deployment",
                "type": "vpc_region"
              }
            },
            {
              "key": "cos_plan",
              "options": [
                {
                  "displayname": "Standard",
                  "value": "standard"
                },
                {
                  "displayname": "One Rate",
                  "value": "cos-one-rate-plan"
                }
              ]
            },
            {
              "key": "cloud_monitoring_plan",
              "options": [
                {
                  "displayname": "None",
                  "value": "none"
                },
                {
                  "displayname": "Graduated tier",
                  "value": "graduated-tier"
                },
                {
                  "displayname": "Lite",
                  "value": "lite"
                },
                {
                  "displayname": "Graduated tier Sysdig Secure plus Monitor",
                  "value": "graduated-tier-sysdig-secure-plus-monitor"
                }
              ]
            },
            {
              "key": "enable_platform_metrics"
            },
            {
              "key": "enable_cloud_logs"
            },
            {
              "key": "resource_tags",
              "custom_config": {
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            }
          ],
          "dependency_version_2": true,
          "terraform_version": "1.10.5"
        }
      ]
    }
  ]
}
