{
  "products": [
    {
      "name": "deploy-arch-landing-zone-code-engine",
      "label": "Landing zone for serverless workloads with IBM Code Engine",
      "product_kind": "solution",
      "tags": [
        "ibm_created",
        "target_terraform",
        "terraform",
        "solution",
        "containers",
        "platform_engineering"
      ],
      "keywords": [
        "code engine",
        "IaC",
        "infrastructure as code",
        "terraform",
        "solution",
        "fleets",
        "serverless",
        "workloads"
      ],
      "short_description": "Provision scalable, serverless workloads with integrated IBM Cloud services.",
      "long_description": "This solution enables the provisioning of [IBM Code Engine](https://www.ibm.com/products/code-engine) projects on IBM Cloud using a range of configurations tailored to various workloads — from lightweight experimentation to high-performance batch processing. Each variation offers a distinct balance of automation, integration with IBM Cloud services, and readiness for experimentation or production use.\n\nIt automates the setup of both Code Engine and the supporting IBM Cloud infrastructure to streamline end-to-end deployment. Whether you're exploring serverless computing or building cloud-native applications, this landing zone helps accelerate your journey.",
      "offering_docs_url": "https://github.com/terraform-ibm-modules/terraform-ibm-landing-zone-code-engine/blob/main/solutions/fleets-quickstart/README.md",
      "offering_icon_url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-landing-zone-code-engine/main/images/code-engine.svg",
      "provider_name": "IBM",
      "features": [
        {
          "title": "Flexible deployment variations",
          "description": "Supports a growing set of configurations tailored to specific workload types—from compute-intensive tasks to future support for event-driven jobs and transactional applications."
        },
        {
          "title": "End-to-end automation",
          "description": "Provisions both IBM Code Engine components (applications, builds, secrets, access policies) and supporting IBM Cloud infrastructure for a complete deployment experience."
        },
        {
          "title": "IBM Cloud service integrations",
          "description": "Seamless integration with [Container Registry](https://www.ibm.com/products/container-registry), [Activity Tracker Event Routing](https://cloud.ibm.com/docs/atracker?topic=atracker-getting-started), [Cloud Logs](https://www.ibm.com/products/cloud-logs), [Cloud Monitoring](https://www.ibm.com/products/cloud-monitoring) and [SCC Workload Protection](https://www.ibm.com/products/security-and-compliance-center)."
        },
        {
          "title": "Simplified setup with guided inputs",
          "description": "Preconfigured defaults and guided parameter selection (e.g., region, availability zones, service plans) reduce manual setup and accelerate deployment."
        }
      ],
      "support_details": "This product is in the community registry, as such support is handled through the originated repo. If you experience issues please open an issue in that repository [https://github.com/terraform-ibm-modules/terraform-ibm-landing-zone-code-engine/issues](https://github.com/terraform-ibm-modules/terraform-ibm-landing-zone-code-engine/issues). Please note this product is not supported via the IBM Cloud Support Center.",
      "flavors": [
        {
          "label": "QuickStart - Basic and simple",
          "name": "quickstart-basic",
          "index": 1,
          "install_type": "fullstack",
          "working_directory": "solutions/basic-quickstart",
          "iam_permissions": [
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Viewer"
              ],
              "service_name": "Resource group only",
              "notes": "Viewer access is required in the resource group you want to provision in."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "All Account Management services",
              "notes": "[Optional] Required to create new resource groups when enabling the Account Configuration integration."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Writer",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "codeengine",
              "notes": "Required to create and manage Code Engine resources."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "container-registry",
              "notes": "Required to create and manage Container Registry namespaces."
            },
            {
              "service_name": "sysdig-monitor",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "notes": "[Optional] Required to create an instance of Cloud Monitoring."
            },
            {
              "service_name": "logs",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "notes": "[Optional] Required to create an instance of Cloud Logs."
            }
          ],
          "architecture": {
            "features": [
              {
                "title": " ",
                "description": "Ideal for users who want an end-to-end flow that builds from source, runs the image, and deploys the application, with optional integration of Cloud Monitoring and Cloud Logs for observability."
              },
              {
                "title": " ",
                "description": "Streamlines development with a single workflow for building, testing, and deploying applications quickly."
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "IBM Cloud Code Engine Basic QuickStart Topology",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-landing-zone-code-engine/refs/heads/main/reference-architectures/deployment-architecture-qs-basic.svg",
                  "type": "image/svg+xml"
                },
                "description": "This architecture automates the setup of an IBM Cloud Code Engine environment, streamlining the creation and management of containerized workloads. It provisions a [Code Engine project](https://cloud.ibm.com/docs/codeengine?topic=codeengine-getting-started), sets up a [Container Registry](https://www.ibm.com/products/container-registry) to securely store and manage container image, runs a build to create container image from source code, and deploys an [application](https://cloud.ibm.com/docs/codeengine?topic=codeengine-getting-started) within the project. It also creates a <strong>Code Engine registry secret</strong> to securely authenticate with the container registry, allowing the platform to publish and pull container images as needed.<br><br>Optionally, the architecture integrates <strong>observability components</strong> including [Cloud Logs](https://www.ibm.com/products/cloud-logs) and [Cloud Monitoring](https://www.ibm.com/products/cloud-monitoring), enabling centralized log collection and performance metrics for enhanced monitoring and troubleshooting.<br><br>Designed for simplicity and rapid deployment, this solution reduces manual configuration by automating service provisioning with sensible defaults. Users provide minimal inputs such as region, resource configurations, and observability preferences, while the architecture orchestrates the full lifecycle of Code Engine resources—enabling faster development, deployment, and operational insights in IBM Cloud."
              }
            ]
          },
          "configuration": [
            {
              "key": "ibmcloud_api_key"
            },
            {
              "key": "prefix",
              "required": true,
              "default_value": "dev",
              "random_string": {
                "length": 4
              },
              "value_constraints": [
                {
                  "type": "regex",
                  "description": "Prefix must begin with a lowercase letter and may contain only lowercase letters, digits, and hyphens '-'. It must not end with a hyphen ('-'), and cannot contain consecutive hyphens ('--'). It should not exceed 16 characters.",
                  "value": "^$|^__NULL__$|^[a-z](?!.*--)(?:[a-z0-9-]{0,14}[a-z0-9])?$"
                }
              ]
            },
            {
              "key": "existing_resource_group_name",
              "display_name": "resource_group",
              "custom_config": {
                "type": "resource_group",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "identifier": "rg_name"
                }
              }
            },
            {
              "key": "code_engine_project_name",
              "required": true
            },
            {
              "key": "app_name",
              "required": true
            },
            {
              "key": "region",
              "required": true,
              "options": [
                {
                  "displayname": "Dallas (us-south)",
                  "value": "us-south"
                },
                {
                  "displayname": "Frankfurt (eu-de)",
                  "value": "eu-de"
                },
                {
                  "displayname": "London (eu-gb)",
                  "value": "eu-gb"
                },
                {
                  "displayname": "Osaka (jp-osa)",
                  "value": "jp-osa"
                },
                {
                  "displayname": "Sao Paulo (br-sao)",
                  "value": "br-sao"
                },
                {
                  "displayname": "Madrid (us-es)",
                  "value": "us-es"
                },
                {
                  "displayname": "Sydney (au-syd)",
                  "value": "au-syd"
                },
                {
                  "displayname": "Tokyo (jp-tok)",
                  "value": "jp-tok"
                },
                {
                  "displayname": "Toronto (ca-tor)",
                  "value": "ca-tor"
                },
                {
                  "displayname": "Washington DC (us-east)",
                  "value": "us-east"
                }
              ]
            },
            {
              "key": "build_name"
            },
            {
              "key": "source_url",
              "display_name": "Code repo URL"
            },
            {
              "key": "source_revision",
              "display_name": "Branch name"
            },
            {
              "key": "source_context_dir",
              "display_name": "Context directory"
            },
            {
              "key": "strategy_type",
              "options": [
                {
                  "displayname": "Dockerfile",
                  "value": "dockerfile"
                },
                {
                  "displayname": "Cloud Native Buildpack",
                  "value": "buildpacks"
                }
              ]
            },
            {
              "key": "container_registry_namespace",
              "value_constraints": [
                {
                  "type": "regex",
                  "description": "Allows 1–14 characters: lowercase letters, digits, hyphens, and underscores — must start and end with a letter or digit.",
                  "value": "^(?=.{1,14}$)[a-z0-9]+[a-z0-9_-]*[a-z0-9]+$"
                }
              ]
            },
            {
              "key": "app_scale_cpu_memory",
              "options": [
                {
                  "displayname": "0.125 vCPU / 0.25 GB",
                  "value": "0.125 vCPU / 0.25 GB"
                },
                {
                  "displayname": "0.125 vCPU / 0.5 GB",
                  "value": "0.125 vCPU / 0.5 GB"
                },
                {
                  "displayname": "0.125 vCPU / 1 GB",
                  "value": "0.125 vCPU / 1 GB"
                },
                {
                  "displayname": "0.25 vCPU / 0.5 GB",
                  "value": "0.25 vCPU / 0.5 GB"
                },
                {
                  "displayname": "0.25 vCPU / 1 GB",
                  "value": "0.25 vCPU / 1 GB"
                },
                {
                  "displayname": "0.25 vCPU / 2 GB",
                  "value": "0.25 vCPU / 2 GB"
                },
                {
                  "displayname": "0.5 vCPU / 1 GB",
                  "value": "0.5 vCPU / 1 GB"
                },
                {
                  "displayname": "0.5 vCPU / 2 GB",
                  "value": "0.5 vCPU / 2 GB"
                },
                {
                  "displayname": "0.5 vCPU / 4 GB",
                  "value": "0.5 vCPU / 4 GB"
                },
                {
                  "displayname": "1 vCPU / 2 GB",
                  "value": "1 vCPU / 2 GB"
                },
                {
                  "displayname": "1 vCPU / 4 GB",
                  "value": "1 vCPU / 4 GB"
                },
                {
                  "displayname": "1 vCPU / 8 GB",
                  "value": "1 vCPU / 8 GB"
                },
                {
                  "displayname": "2 vCPU / 4 GB",
                  "value": "2 vCPU / 4 GB"
                },
                {
                  "displayname": "2 vCPU / 8 GB",
                  "value": "2 vCPU / 8 GB"
                },
                {
                  "displayname": "2 vCPU / 16 GB",
                  "value": "2 vCPU / 16 GB"
                },
                {
                  "displayname": "4 vCPU / 8 GB",
                  "value": "4 vCPU / 8 GB"
                },
                {
                  "displayname": "4 vCPU / 16 GB",
                  "value": "4 vCPU / 16 GB"
                },
                {
                  "displayname": "4 vCPU / 32 GB",
                  "value": "4 vCPU / 32 GB"
                },
                {
                  "displayname": "6 vCPU / 12 GB",
                  "value": "6 vCPU / 12 GB"
                },
                {
                  "displayname": "6 vCPU / 24 GB",
                  "value": "6 vCPU / 24 GB"
                },
                {
                  "displayname": "6 vCPU / 48 GB",
                  "value": "6 vCPU / 48 GB"
                },
                {
                  "displayname": "8 vCPU / 16 GB",
                  "value": "8 vCPU / 16 GB"
                },
                {
                  "displayname": "8 vCPU / 32 GB",
                  "value": "8 vCPU / 32 GB"
                },
                {
                  "displayname": "10 vCPU / 20 GB",
                  "value": "10 vCPU / 20 GB"
                },
                {
                  "displayname": "10 vCPU / 40 GB",
                  "value": "10 vCPU / 40 GB"
                },
                {
                  "displayname": "12 vCPU / 24 GB",
                  "value": "12 vCPU / 24 GB"
                },
                {
                  "displayname": "12 vCPU / 48 GB",
                  "value": "12 vCPU / 48 GB"
                }
              ]
            },
            {
              "key": "app_scale_ephemeral_storage_limit",
              "value_constraints": [
                {
                  "type": "regex",
                  "description": "Scale ephemeral storage limit must be a numeric value optionally followed by a valid unit (e.g., '400M', '1G', '1T').",
                  "value": "^([0-9.]+)([eEinumkKMGTPB]*)$"
                }
              ]
            },
            {
              "key": "enable_cloud_logs"
            },
            {
              "key": "cloud_monitoring_plan",
              "options": [
                {
                  "displayname": "None",
                  "value": "none"
                },
                {
                  "displayname": "Graduated tier",
                  "value": "graduated-tier"
                },
                {
                  "displayname": "Lite",
                  "value": "lite"
                }
              ]
            },
            {
              "key": "resource_tags",
              "custom_config": {
                "type": "array",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            },
            {
              "key": "provider_visibility",
              "hidden": true,
              "options": [
                {
                  "displayname": "private",
                  "value": "private"
                },
                {
                  "displayname": "public",
                  "value": "public"
                },
                {
                  "displayname": "public-and-private",
                  "value": "public-and-private"
                }
              ]
            }
          ],
          "terraform_version": "1.10.5"
        },
        {
          "label": "Standard - Integrated setup with configurable services",
          "name": "fully-configurable",
          "index": 2,
          "install_type": "fullstack",
          "working_directory": "solutions/fully-configurable",
          "iam_permissions": [
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Viewer"
              ],
              "service_name": "Resource group only",
              "notes": "Viewer access is required in the resource group you want to provision in."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "All Identity and Access enabled services",
              "notes": "[Optional] Required to create new resource groups with account settings when enabling the Account Configuration integration."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "hs-crypto",
              "notes": "[Optional] Required if Hyper Protect Crypto Service is used for encryption."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "kms",
              "notes": "[Optional] Required if Key Protect is used for encryption."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "sysdig-monitor",
              "notes": "[Optional] Required to create an instance of Cloud Monitoring."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "logs",
              "notes": "[Optional] Required to create an instance of Cloud Logs."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Writer",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "atracker",
              "notes": "[Optional] Required when enabling the Activity Tracker Event Routing."
            },
            {
              "service_name": "sysdig-secure",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "notes": "[Optional] Required for creating and managing SCC Workload Protection instance."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Writer",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "codeengine",
              "notes": "Required to create and manage Code Engine resources."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "container-registry",
              "notes": "Required to create and manage Container Registry namespaces."
            }
          ],
          "architecture": {
            "features": [
              {
                "title": " ",
                "description": "Ideal for users who want to quickly provision a fully configurable IBM Cloud Code Engine project without deploying an app."
              },
              {
                "title": " ",
                "description": "Focuses on provisioning the IBM Cloud infrastructure around Code Engine—such as IAM, observability, storage, encryption, and security—while giving users the flexibility to integrate only what they need."
              },
              {
                "title": " ",
                "description": "Code Engine components (app, build, or function) are configured later by users via UI, CLI, or Terraform, offering full flexibility."
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "IBM Cloud Code Engine topology - Standard (Integrated setup with configurable services)",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-landing-zone-code-engine/refs/heads/main/reference-architectures/deployment-architecture-fully-configurable.svg",
                  "type": "image/svg+xml"
                },
                "description": "The architecture consists of a central [IBM Cloud Code Engine project](https://cloud.ibm.com/docs/codeengine?topic=codeengine-getting-started), which serves as the primary execution environment for the application. Surrounding this core component is the foundational IBM Cloud configuration, which includes the IBM Cloud account, resource group, account settings, and optionally a trusted profile for secure IAM access.<br><br>Optionally, the architecture can provision a [Container Registry](https://www.ibm.com/products/container-registry) to securely store and manage container images used by the application.<br><br>Surrounding the Code Engine project are optional service integrations that can be added based on specific use cases. These include observability tools such as [Cloud Monitoring](https://www.ibm.com/products/cloud-monitoring), [Cloud Logs](https://www.ibm.com/products/cloud-logs) and [Activity Tracker Event Routing](https://cloud.ibm.com/docs/atracker?topic=atracker-getting-started). These services provide insights into application performance, system activity, and logging.\n\nFor enhanced security and compliance, you can also integrate [SCC Workload Protection](https://www.ibm.com/products/security-and-compliance-center), together with [App Configuration](https://cloud.ibm.com/docs/app-configuration), which come in a pair to help enforce workload-level security policies and centrally manage application settings."
              }
            ]
          },
          "configuration": [
            {
              "key": "ibmcloud_api_key"
            },
            {
              "key": "prefix",
              "default_value": "dev",
              "random_string": {
                "length": 4
              },
              "value_constraints": [
                {
                  "type": "regex",
                  "description": "Prefix must begin with a lowercase letter and may contain only lowercase letters, digits, and hyphens '-'. It must not end with a hyphen ('-'), and cannot contain consecutive hyphens ('--'). It should not exceed 16 characters.",
                  "value": "^$|^__NULL__$|^[a-z](?!.*--)(?:[a-z0-9-]{0,14}[a-z0-9])?$"
                }
              ]
            },
            {
              "key": "existing_resource_group_name",
              "display_name": "resource_group",
              "custom_config": {
                "type": "resource_group",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "identifier": "rg_name"
                }
              }
            },
            {
              "key": "code_engine_project_name",
              "required": true
            },
            {
              "key": "region",
              "required": true,
              "options": [
                {
                  "displayname": "Dallas (us-south)",
                  "value": "us-south"
                },
                {
                  "displayname": "Frankfurt (eu-de)",
                  "value": "eu-de"
                },
                {
                  "displayname": "London (eu-gb)",
                  "value": "eu-gb"
                },
                {
                  "displayname": "Osaka (jp-osa)",
                  "value": "jp-osa"
                },
                {
                  "displayname": "Sao Paulo (br-sao)",
                  "value": "br-sao"
                },
                {
                  "displayname": "Madrid (us-es)",
                  "value": "us-es"
                },
                {
                  "displayname": "Sydney (au-syd)",
                  "value": "au-syd"
                },
                {
                  "displayname": "Tokyo (jp-tok)",
                  "value": "jp-tok"
                },
                {
                  "displayname": "Toronto (ca-tor)",
                  "value": "ca-tor"
                },
                {
                  "displayname": "Washington DC (us-east)",
                  "value": "us-east"
                }
              ]
            },
            {
              "key": "provider_visibility",
              "hidden": true,
              "options": [
                {
                  "displayname": "private",
                  "value": "private"
                },
                {
                  "displayname": "public",
                  "value": "public"
                },
                {
                  "displayname": "public-and-private",
                  "value": "public-and-private"
                }
              ]
            }
          ],
          "dependencies": [
            {
              "name": "deploy-arch-ibm-cloud-logs",
              "description": "Configure an IBM Cloud Logs instance to analyse the platform logs.",
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "flavors": [
                "fully-configurable"
              ],
              "id": "63d8ae58-fbf3-41ce-b844-0fb5b85882ab-global",
              "version": "v1.9.0",
              "optional": true,
              "on_by_default": true,
              "input_mapping": [
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_input": "region",
                  "version_input": "region",
                  "reference_version": true
                },
                {
                  "dependency_input": "existing_resource_group_name",
                  "version_input": "existing_resource_group_name",
                  "reference_version": true
                }
              ]
            },
            {
              "name": "deploy-arch-ibm-cloud-monitoring",
              "description": "Configure an IBM Cloud Monitoring instance to collect the platform metrics.",
              "id": "73debdbf-894f-4c14-81c7-5ece3a70b67d-global",
              "version": "v1.9.0",
              "flavors": [
                "fully-configurable"
              ],
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "optional": true,
              "on_by_default": true,
              "input_mapping": [
                {
                  "dependency_input": "enable_platform_metrics",
                  "value": false
                },
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_input": "existing_resource_group_name",
                  "version_input": "existing_resource_group_name",
                  "reference_version": true
                },
                {
                  "dependency_input": "region",
                  "version_input": "region",
                  "reference_version": true
                }
              ]
            },
            {
              "name": "deploy-arch-ibm-activity-tracker",
              "description": "Configure Activity Tracker Event Routing to route the auditing events.",
              "id": "918453c3-4f97-4583-8c4a-83ef12fc7916-global",
              "version": "v1.4.3",
              "flavors": [
                "fully-configurable"
              ],
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "optional": true,
              "on_by_default": true,
              "input_mapping": [
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_input": "region",
                  "version_input": "region",
                  "reference_version": true
                },
                {
                  "dependency_input": "existing_resource_group_name",
                  "version_input": "existing_resource_group_name",
                  "reference_version": true
                }
              ]
            },
            {
              "name": "deploy-arch-ibm-scc-workload-protection",
              "description": "Configure an IBM Cloud Security and Compliance Center Workload Protection instance to help you manage security and compliance for your organization.",
              "id": "4322cf44-2289-49aa-a719-dd79e39b14dc-global",
              "version": "v1.14.0",
              "flavors": [
                "fully-configurable"
              ],
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "optional": true,
              "on_by_default": true,
              "input_mapping": [
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_input": "region",
                  "version_input": "region",
                  "reference_version": true
                },
                {
                  "dependency_input": "existing_resource_group_name",
                  "version_input": "existing_resource_group_name",
                  "reference_version": true
                }
              ]
            },
            {
              "name": "deploy-arch-ibm-container-registry",
              "description": "Configure the IBM Container Registry by creating a namespace and setting a container registry retention policy.",
              "catalog_id": "7a4d68b4-cf8b-40cd-a3d1-f49aff526eb3",
              "flavors": [
                "fully-configurable"
              ],
              "id": "5947efd7-d52a-4905-8052-45f1142f78a0-global",
              "input_mapping": [
                {
                  "dependency_input": "prefix",
                  "version_input": "prefix",
                  "reference_version": true
                },
                {
                  "dependency_input": "existing_resource_group_name",
                  "version_input": "existing_resource_group_name",
                  "reference_version": true
                },
                {
                  "dependency_input": "namespace_region",
                  "value": "global"
                }
              ],
              "optional": true,
              "on_by_default": true,
              "version": "v2.2.0"
            }
          ],
          "dependency_version_2": true,
          "terraform_version": "1.10.5"
        },
        {
          "label": "Quickstart - Fleets edition",
          "name": "quickstart-fleets",
          "index": 3,
          "install_type": "fullstack",
          "working_directory": "solutions/fleets-quickstart",
          "iam_permissions": [
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::role:Viewer"
              ],
              "service_name": "Resource group only",
              "notes": "Viewer access is required in the resource group you want to provision in."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Writer",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "service_name": "codeengine",
              "notes": "Required to create and manage Code Engine resources."
            },
            {
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Administrator"
              ],
              "service_name": "container-registry",
              "notes": "Required to create and manage Container Registry namespaces."
            },
            {
              "service_name": "sysdig-monitor",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "notes": "[Optional] Required to create an instance of Cloud Monitoring."
            },
            {
              "service_name": "logs",
              "role_crns": [
                "crn:v1:bluemix:public:iam::::serviceRole:Manager",
                "crn:v1:bluemix:public:iam::::role:Editor"
              ],
              "notes": "[Optional] Required to create an instance of Cloud Logs."
            }
          ],
          "architecture": {
            "features": [
              {
                "title": " ",
                "description": "Ideal for users running distributed container-based tasks with minimal setup, such as Monte Carlo simulations, PDF conversion with Doclin, or batch processing with VPC and COS integration."
              },
              {
                "title": " ",
                "description": "Automates deployment of a scalable Code Engine Fleet with integrated IBM Cloud services. Guided inputs for region, zones, and service plans—plus preconfigured defaults—enable a ready-to-run environment for execution, storage, and observability, without manual networking or service setup."
              }
            ],
            "diagrams": [
              {
                "diagram": {
                  "caption": "IBM Cloud Code Engine Fleets Edition Topology",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-landing-zone-code-engine/refs/heads/main/reference-architectures/deployment-architecture-fleets-1.svg",
                  "type": "image/svg+xml"
                },
                "description": "This architecture provides a modular and secure setup within an IBM Cloud region to deploy and manage <b>fleet-based workloads using IBM Cloud Code Engine</b>. It integrates a Code Engine Project as the central execution environment, connected to a user-managed <b>Virtual Private Cloud (VPC)</b> for controlled network access and isolation.<br><br><b>Subnets and Security Groups</b> within the VPC define the compute boundaries and enforce traffic control policies for workloads. These VPC resources are referenced by Code Engine via securely injected secrets, enabling <b>container workloads to run in a private network context</b>.<br><br>A <b>Persistent Task Store</b> is implemented using IBM Cloud Object Storage (COS) with separate buckets for task metadata, input data, and output results. Lifecycle policies manage data retention for efficiency. The deployment also includes <b>private observability integration</b>: Code Engine logs and metrics are routed through <b>VPC Endpoint Gateways (VPEs)</b> to IBM Cloud Logs and Monitoring instances, ensuring secure and centralized observability.<br><br>This solution automates provisioning of networking, storage, and monitoring components with Terraform modules, promoting consistency and scalability. It is designed to <b>securely run distributed workloads</b> in private infrastructure, while still leveraging Code Engine's serverless execution model and automation benefits."
              },
              {
                "diagram": {
                  "caption": "Fleet-Based Workload Topology with IBM Cloud Code Engine",
                  "url": "https://raw.githubusercontent.com/terraform-ibm-modules/terraform-ibm-landing-zone-code-engine/refs/heads/main/reference-architectures/deployment-architecture-fleets.svg",
                  "type": "image/svg+xml"
                },
                "description": "This architecture provides a streamlined setup within an IBM Cloud region to deploy and manage <b>fleet-based workloads using IBM Cloud Code Engine</b>. It introduces a Fleet managed by Code Engine as the core execution environment, with <b>worker instances (VSIs)</b> dynamically provisioned in Code Engine–managed accounts based on a customer-provided VSI image.<br><br><b>A Task State Store</b>, implemented using IBM Cloud Object Storage (COS), <b>handles task and data persistence</b>. Logs generated by the fleet workers are ingested into an IBM Cloud Logs instance, enabling centralized observability and simplified monitoring.<br><br>Designed for scalability and operational efficiency, this Quick Start automates the provisioning of required IBM Cloud services using well-chosen defaults. Users provide minimal input—such as region, availability zones, and service plans—while Code Engine handles the lifecycle of Fleets, Tasks, and Workers.<br><br>This solution accelerates deployment of distributed, container-based workloads without requiring manual setup of networking, storage, or observability components, making it ideal for rapid experimentation and workload execution on IBM Cloud."
              }
            ]
          },
          "configuration": [
            {
              "key": "ibmcloud_api_key"
            },
            {
              "key": "prefix",
              "default_value": "dev",
              "random_string": {
                "length": 4
              },
              "value_constraints": [
                {
                  "type": "regex",
                  "description": "Prefix must begin with a lowercase letter and may contain only lowercase letters, digits, and hyphens '-'. It must not end with a hyphen ('-'), and cannot contain consecutive hyphens ('--'). It should not exceed 16 characters.",
                  "value": "^$|^__NULL__$|^[a-z](?!.*--)(?:[a-z0-9-]{0,14}[a-z0-9])?$"
                }
              ]
            },
            {
              "key": "existing_resource_group_name",
              "display_name": "resource_group",
              "default_value": "Default",
              "description": "The name of an existing resource group to provision the resources.",
              "custom_config": {
                "type": "resource_group",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "identifier": "rg_name"
                }
              }
            },
            {
              "key": "code_engine_project_name",
              "required": true
            },
            {
              "key": "vpc_zones",
              "options": [
                {
                  "displayname": "1",
                  "value": 1
                },
                {
                  "displayname": "2",
                  "value": 2
                },
                {
                  "displayname": "3",
                  "value": 3
                }
              ]
            },
            {
              "key": "provider_visibility",
              "hidden": true,
              "options": [
                {
                  "displayname": "private",
                  "value": "private"
                },
                {
                  "displayname": "public",
                  "value": "public"
                },
                {
                  "displayname": "public-and-private",
                  "value": "public-and-private"
                }
              ]
            },
            {
              "key": "region",
              "required": true,
              "options": [
                {
                  "displayname": "Dallas (us-south)",
                  "value": "us-south"
                },
                {
                  "displayname": "Frankfurt (eu-de)",
                  "value": "eu-de"
                },
                {
                  "displayname": "London (eu-gb)",
                  "value": "eu-gb"
                },
                {
                  "displayname": "Osaka (jp-osa)",
                  "value": "jp-osa"
                },
                {
                  "displayname": "Sao Paulo (br-sao)",
                  "value": "br-sao"
                },
                {
                  "displayname": "Madrid (us-es)",
                  "value": "us-es"
                },
                {
                  "displayname": "Sydney (au-syd)",
                  "value": "au-syd"
                },
                {
                  "displayname": "Tokyo (jp-tok)",
                  "value": "jp-tok"
                },
                {
                  "displayname": "Toronto (ca-tor)",
                  "value": "ca-tor"
                },
                {
                  "displayname": "Washington DC (us-east)",
                  "value": "us-east"
                }
              ]
            },
            {
              "key": "cos_plan",
              "options": [
                {
                  "displayname": "Standard",
                  "value": "standard"
                },
                {
                  "displayname": "One Rate",
                  "value": "cos-one-rate-plan"
                }
              ]
            },
            {
              "key": "cloud_monitoring_plan",
              "options": [
                {
                  "displayname": "None",
                  "value": "none"
                },
                {
                  "displayname": "Graduated tier",
                  "value": "graduated-tier"
                },
                {
                  "displayname": "Lite",
                  "value": "lite"
                }
              ]
            },
            {
              "key": "enable_platform_metrics"
            },
            {
              "key": "enable_cloud_logs"
            },
            {
              "key": "resource_tags",
              "custom_config": {
                "type": "array",
                "grouping": "deployment",
                "original_grouping": "deployment",
                "config_constraints": {
                  "type": "string"
                }
              }
            }
          ],
          "dependency_version_2": true,
          "terraform_version": "1.10.5"
        }
      ]
    }
  ]
}
